# Project Introduction

## Feature

## Todo

## Notice

### 1. 关于注入方式

本项目使用构造注入（构造注入的可以防止注入的对象 NPE），该方法可能会造成代码冗余过多的情况。从 Spring4.3
之后，如果一个类中只有一个构造函数，那么 Spring
将根据构造函数自动注入。所以在 `xxxServiceImpl` 里看到以下信息不要惊讶。

```java
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class DemoServiceImpl implements DemoService {

    // ...业务逻辑

    private final DemoDao demoDao;

    // 这里的 @Autowired 注解可加可不加
    @Autowired
    public DemoServiceImpl(DemoDao demoDao) {
        this.demoDao = demoDao;
    }
}
```

> 为了看代码比较方便，类中所有需要注入的对象全部放在该类的最后。

### 2. Database

## 个人的一些想法

### 1. 关于封装

对于高级语言来说，原生的（不考虑最底层） API 想要使用的舒服，必须封装，尤其是像 io 这样的，需要考虑多种可能出现的异常。  
本项目初期开发都是用 JDK 或者 Spring 框架原生的工具类
API，开发过程中如果缺少对应的也会自己封装一些。
为什么不使用 `common-lang3` 和 `hutool`？
有些工具类（比如字符串）除了某些业务场景必须要自己手动实现之外，其它引入的工具类大同小异，上述两种工具都非常强大易用，但在能满足使用的情况下浪子不会引入这些依赖。如果后面需要使用的工具类有很多，那么浪子会考虑放弃自己封装，引入 `hutool`
，避免重复造轮子。

### 2. 关于 Spring xml 配置

从 Spring4.x 开始，Spring 已经不推荐使用 xml 配置了，推荐 Java 配置，Java 配置也是 Spring Boot
推荐的配置方式。不过很多前辈、大牛，都知道这种方式，但是这种方式对新手不是那么容易接受，至少浪子刚开始的时候确实如此。

不过得益于时代发展和技术更新，浪子工作的时候基本都是 Spring Boot 项目，提倡 ”约定大于配置“，而且大多数都是要求掌握 Spring
Cloud 的(Cloud也没什么，就是组件多了而已，~~维护排查问题困难~~)。对于
xml 配置的方式进行项目开发接触不是太多。

后面随着学习的深入，再看到这种项目浪子觉得其实 spring 的 xml
是一个非常好的组件清单（你可以把它看成一个文档）;维护者接手这个项目只要看一眼这个 `xml` 就能搞清楚系统的组件的“架构（包括依赖关系）”。不过
xml 文件没有类型检查，如果导入了一个错误的类，可能你需要找很长时间的错误(不过我们有智能 IDE！但字符串拼写还是有可能漏查的)。

如果使用注解的话，那么这些关系配置都会散落在系统的各个角落，理清组件间的关系也是需要一定的时间的，尤其是对于规模较大的项目，除非你有非常好的文档或者约定。

### 3. 关于 ORM

项目开发初期，或者入门人员自己编写的 Demo 案例，很多时候数据库属性不会设计的很完美，在开发的过程中需要频繁的删除或者修改字段。如果是使用的
mybatis，那就需要我们频繁的去对我们的代码做修改。使用 lombok 的情况下我们对实体所做的就是添加属性，如果没有使用则还需要添加
setter、getter、toString 等；除此之外，如果有自定义的响应，比如所谓的 DTO、VO 等，也需要修改；如果你手写了
SQL，那还有 `sqlMapper.xml` 文件也需要修改。

另一方面，手写的 SQL 如果特别多的话，后期维护也是比较头疼的一件事。可能有人说，如果 SQL 较多的话我使用多个 `sqlMapper.xml`
文件，它们的
`namespace` 都指向同一个 Dao 接口不也是可以的？没错，是可以，但是上面频繁的修改依旧是免不了的。最重要的是，如果是个人业余的项目这样做，会浪费很多时间，并不是每个人、每个公司都有
DBA 专员，能够完美或者较完美的去设计库表的结构及预测后期的需求变化。

此时修改大量的文件会导致效率底下，如果映射做的不好，漏了哪个字段还需要修改、重启多次去测试。

如果使用 Mybatis Plus 的话可能是一个较好的选择，如果你的 SQL 能力比较强，这两种方式无论使用哪种都是可以的。切记，实际项目中技术选型唯手熟尔。

其实也可以考虑使用 Hibernate，自带分页、验证器等使用的功能。使用的话，可以引入 JPA，JPA 是一种规范，而 Hibernate
是它的众多实现中的一种，但是
Hibernate 的功能比 JPA 要多，得益于它的社区更新较快。至于网上现在为什么使用
Hibernate 就引入 JPA 的依赖而不引入 Hibernate 依赖的这个问题，就很神奇，大家可以自行搜索。

NutsDao 的生态也很不错，不过建议和 NutsBoot 一起使用比较好。

最后，浪子这里使用 Spring JPA，毕竟 Spring 项目嘛，一家人就是要整整齐齐！感觉对于个人开发来说很不错。如果要更换或者加入其它
ORM 框架的时候也很方便，引入 Mybatis 或者 Mybatis-Plus 也不难，使用 Hibernate
就更简单了。

### 4. 关于版本依赖管理

那当然是 Gradle 了，我不为别的，依赖看着舒服，大道至简。
