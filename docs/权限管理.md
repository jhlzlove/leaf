# 权限管理

## 简介

权限想必大家都清楚，你有哪些特权，可以访问哪些资源，都是通过权限来控制的。

现在的权限管理基本都是基于 RBAC（Role Base Access Control）或者 RBAC 的变体。

## 为什么 RBAC 这么好用

简单来说，是因为人多，卷，为什么呢？前面说了，因为人多（~~重复了了一些废话~~）。

我们大家都听过二八定律，需要分配的高级权限、特别权限、定制权限只是少部分人才能拥有的。但是像我一样的普通人很多，我们的权限基本相同，并无太大的变化。而使用角色的话，可以把这些权限赋给角色，然后如果用户需要授权，把用户和拥有权限的角色关联起来即可；如果用户需要更换权限，直接修改用户-角色的关联关系即可。

所以这样看起来，RBAC 也是一种代理模式，角色充当了权限的代理，用户通过这个代理可以访问对应的资源，否则就什么都不是，只是个臭敲代码的。

固定权限+定制权限：一般对于系统来讲，我们需要分部门，部门拥有的权限都是固定的，然后对于里面的成员处于不同的岗位将会拥有不一样的权限。这样就多出了两个分支：部门、岗位。
我们可以把部门视作用户组，而岗位就是把用户组的用户再细分一次。

说了那么多废话，该举例子说废话了：

现在体育部有两个人：風逍遥和李逍遥，風逍遥是体育部部长，李逍遥是体育部成员。相对来说，部长的权限比成员高，可以对体育部架构和人员进行修改、调动。

但是呢，广播部也有两个人：素还真和史艳文，素还真是广播部部长，史艳文是广播部成员。广播的内容是需要部长拍板定砖的，史艳文就是广播部长确定的内容的。

于是问题就出来了，除了以上的两个简单部门，还有很多的部门，每个部门都有部长、成员甚至是其它的岗位，那么有必要为每个部门都设置一个具体的角色？这样的话显然要造出很多的角色，只是管理的模块不同。后期维护会很麻烦。

所以呢

```mermaid
graph LR
user1((user1)) --> 部门1 --> 岗位1 --> 角色1 --> 权限列表1

u2((user2)) --> 部门1 --> 岗位2 --> 角色2 -> 权限列表2

u3((user3)) --> 部门2 --> 岗位1 --> 角色3 -> 权限列表2
```

## RBAC 实现

以后再说吧
