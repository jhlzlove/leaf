# 开发过程中个人的一些想法

## 封装

没错，层层封装的 API
会很方便。如果项目中的依赖使用很多的话，那么出现同名不同依赖的包也会很多，而这些工具类的用途确实殊途同归。所以浪子比较喜欢用项目中必要的依赖（比如Spring）的原生工具类去使用（粗暴点儿，最底层都是C），不过原生的可能不好用，有些需要捕获异常等，这个时候我们可以自己手动封装，对于多年经验的人来说这不是一种提升，不过新手可以写写，熟悉一下使用框架的
API，也是挺好的。

依据这个原则，浪子在自己项目中有自己封装的一些工具类，类统一命名 `xxxutil`，包名使用复数 `utils`
。如果后面需要封装的很多，那么浪子会考虑放弃自己封装，引入 `hutool`。

## Spring xml 配置

从 Spring4.x 开始，推荐 Java 配置代替 xml 配置，基本上每个程序员都知道这种方式，但是这种方式对新手不是那么容易接受，至少浪子刚开始的时候确实如此。

不过得益于时代发展，我工作的时候基本都是 Spring Boot 项目，提倡 ”约定大于配置“，而且大多数都是要求掌握 Spring Cloud 的。对于
xml 配置的方式进行项目开发接触不是太多。

后面随着学习的身入，个人觉得其实 spring 的 xml 是一个非常好的组件清单（你可以把它看成一个文档）；后来的维护者接手这个项目只要看一眼这个xml就能搞清楚系统的组件的＂架构（包括依赖关系）＂。

但是如果使用注解的话，那么这些关系配置都会散落在系统的各个角落，理清组件间的关系也是需要一定的时间的，尤其是对于规模较大的项目，除非你有非常好的文档或者约定。

## Nutz.Dao

项目开发初期，或者入门人员自己编写的 Demo 案例，很多时候数据库属性不会设计的很完美，在开发的过程中需要频繁的删除或者修改字段。如果是使用的
mybatis，那就需要我们频繁的去对我们的代码做修改。使用 lombok 的情况下我们对实体所做的就是添加属性，如果没有还需要添加
setter、getter、toString 等；除此之外，如果有自定义的响应，比如所谓的 DTO、VO 等，也需要修改；还有 `sql.xml` 文件也需要修改。

另一方面，手写的 SQL 如果特别多的话，后期维护也是比较头疼的一件事。可能有人说，如果 SQL 较多的话我使用多个 `sql.xml` 文件，它们的
namespace 都指向同一个 Dao 接口不也是可以的？没错，是可以，但是上面频繁的修改依旧是免不了的。最重要的是，如果是个人业余的项目这样做，会浪费很多时间，并不是每个人、每个公司都有
DBA 专员，能够完美或者较完美的去设计库表的结构及预测后期的需求变化。

此时修改大量的文件会导致效率底下，如果映射做的不好，漏了哪个字段还需要修改重启多次去测试。如果是 DeBug 模式启动，可以通过
rebuild
方式热启动。这个时候我们可能会想到，哦！原来 Hibernate 是如此的 nice：移植性较好，自带分页、验证器，性能好，很可靠。不过在使用
Hibernate 中也有很多在代码中去拼写 sql 的，也是有映射文件的。

很多人说 Hibernate 不灵活，复杂场景（多表连接）就特别难受。其实浪子觉得其实也不用强求必须遵循三范式，建模对于后期的影响比较大，适当的冗余可以减少表连接，也减少的与数据库交互、dev
维护的复杂度，不好？很多人说具体场景根据不同业务采用不同的技术，这是非常正确的，毕竟开发受多种环境的影响。

因此，浪子这里使用 Nutz.Dao，感觉对于个人来说很不错。